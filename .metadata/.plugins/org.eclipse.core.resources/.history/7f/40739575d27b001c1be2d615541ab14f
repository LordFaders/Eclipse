package reciclaJeans.general;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.Scanner;

import reciclaJeans.models.Producto;

public class ArchivoServicio {

	public ArrayList<Producto> cargarDatos() {
		Scanner sc = new Scanner(System.in);
		System.out.println("Ingrese la ruta del archivo que desea importar:");
		String archivo = sc.nextLine();
		ArrayList<Producto> productosARetornar = new ArrayList<Producto>();

		try {
			FileReader fr = new FileReader(archivo);
			BufferedReader br = new BufferedReader(fr);

			String lineaArchivo = br.readLine();

			while (lineaArchivo != null) {

				String[] elementoProd = lineaArchivo.split(",");

				Producto productoTemp = new Producto(elementoProd[0], elementoProd[1], elementoProd[2], elementoProd[3],
						elementoProd[4], elementoProd[5], elementoProd[6]);
				productosARetornar.add(productoTemp);

				lineaArchivo = br.readLine();
			}
			fr.close();
			br.close();
		} catch (FileNotFoundException e) {
			System.out.println("No se encontró el archivo en la ruta especificada");
		} catch (IOException e) {
			System.out.println("Error al cargar los datos");
		}
		System.out.println("Datos" + productosARetornar);
		System.out.println("Datos cargados correctamente");

		return productosARetornar;
	}
	
	public void editarDatos(Scanner sc) {
		ArrayList<Producto> productosARetornar = new ArrayList<Producto>();
		
		System.out.println("Eligió editar datos");
		System.out.println();
		System.out.println("Digite 1 para comenzar la edición");
		System.out.println();
		System.out.println("Digite cualquier otro número para salir");
		System.out.println();
		int opcionEditar = sc.nextInt();
		sc.nextLine();

		if (opcionEditar == 1) {
			System.out.println("Ingrese el código del producto:");
			String codigo = sc.nextLine();

			System.out.println(getProducto());
			System.out.println(codigo);
			
			for (Iterator iterator = listaProductos.iterator(); iterator.hasNext();) {
				Producto productoAEditar = (Producto) iterator.next();
				if(productoARetornar.getCodigo().equals(codigo));
				System.out.println();
				
				System.out.println("1 Artículo: " + productoAEditar.getArticulo());
				System.out.println("2 Precio: " + productoAEditar.getPrecio());
				System.out.println("3 Descripción: " + productoAEditar.getDescripcion());
				System.out.println("4 Código: " + productoAEditar.getCodigo());
				System.out.println("5 Talla: " + productoAEditar.getTalla());
				System.out.println("6 Marca: " + productoAEditar.getMarca());
				System.out.println("7 Color: " + productoAEditar.getColor());
				
				System.out.println("Ingresa el número de la opción a editar:");
				int opcion = sc.nextInt();
				sc.nextLine();
				
				switch(opcion) {
				case 1:
					System.out.println("Ingrese el nuevo artículo");
					String articulo = sc.nextLine();
					productoAEditar.setArticulo(articulo);
					break;
				case 2:
					System.out.println("Ingrese el nuevo precio");
					String precio = sc.nextLine();
					productoAEditar.setArticulo(precio);
					break;
				case 3:
					System.out.println("Ingrese la nueva descripción");
					String descripcion = sc.nextLine();
					productoAEditar.setArticulo(descripcion);
					break;
				case 4:
					System.out.println("Ingrese el nuevo código");
					String codigo2 = sc.nextLine();
					productoAEditar.setArticulo(codigo2);
					break;
				case 5:
					System.out.println("Ingrese la nueva talla");
					String talla = sc.nextLine();
					productoAEditar.setArticulo(talla);
					break;
				case 6:
					System.out.println("Ingrese la nueva marca");
					String marca = sc.nextLine();
					productoAEditar.setArticulo(marca);
					break;
				case 7:
					System.out.println("Ingrese el nuevo color");
					String color = sc.nextLine();
					productoAEditar.setArticulo(color);
					break;
			}

		}

	}
}

}
